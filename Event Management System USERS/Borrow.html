<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Borrow Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=dock_to_right" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/borrow.css">
</head>
<body>
    <div class="d-flex flex-wrap">
        <div class="sidebar p-3" id="sidebar">
            <!-- <span class="material-symbols-outlined" id="toggleSidebar">dock_to_right</span> -->
            <div class="logo">
                <img src="assets/images/COMPED_LOGO.png" alt="COMPED Logo" class="logo-img img-fluid">
            </div>
            <a href="Event.html" class="menu-item">
                <img src="https://fonts.gstatic.com/s/i/materialiconsoutlined/home/v7/24px.svg" alt="Home" class="menu-icon">
                <span class="menu-text">Home</span>
            </a>
            <a href="Calendar.html" class="menu-item">
                <img src="https://fonts.gstatic.com/s/i/materialiconsoutlined/calendar_today/v7/24px.svg" alt="Events" class="menu-icon">
                <span class="menu-text">Events</span>
            </a>
            <a href="Attendance.html" class="menu-item">
                <img src="https://fonts.gstatic.com/s/i/materialiconsoutlined/person/v7/24px.svg" alt="Attendance" class="menu-icon">
                <span class="menu-text">Attendance</span>
            </a>
            <a href="Finance.html" class="menu-item">
                <img src="https://fonts.gstatic.com/s/i/materialiconsoutlined/paid/v7/24px.svg" alt="Finance" class="menu-icon">
                <span class="menu-text">Finance</span>
            </a>
            <a href="Borrow.html" class="menu-item">
                <img src="https://fonts.gstatic.com/s/i/materialiconsoutlined/construction/v7/24px.svg" alt="Borrowing & Inventory" class="menu-icon">
                <span class="menu-text">Borrowing & Inventory</span>
            </a>
        </div>

         <div class="content-wrapper flex-grow-1 container-fluid">
            <div class="main-content">
                <div class="d-flex flex-wrap align-items-center mb-4">
                    <div class="search w-100">
                        <input placeholder="Search..." type="text" class="form-control">
                      <!--  <button type="submit" class="btn btn-primary mt-2">Go</button> -->
                    </div>
                </div>
                <hr style="border-top: 5px solid #0080ff; margin: 15px 0;">
                
                <div class="hero">
                    <div>
                        <h3>COMPED</h3>
                        <p>Borrowing and Inventory</p>
                        <button class="schedule-button btn btn-primary rounded-pill mt-3" data-bs-toggle="modal" data-bs-target="#historyModal">View Borrowed and Returned</button>
                    </div>
                    <div>
                        <img src="assets/images/arduino.png" alt="Hero Image">
                    </div>
                </div>

                <div class="previous-card">
                    <h5 class="mb-4">Borrow Tools and Equipments</h5>
                    <div class="d-flex flex-wrap gap-3">
                        <!-- Microcontrollers Card -->
                        <div class="card shadow-sm border rounded" style="width: 18rem;">
                            <div class="card-header bg-primary text-white text-center">
                                <h5 class="mb-0">Microcontrollers</h5>
                            </div>
                            <img src="assets/images/arduinouno.png" class="card-img-top" alt="Microcontrollers Image">
                            <div class="card-body">
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            </div>
                            <!-- View Tools Button -->
<div class="card-footer bg-white text-center">
   <!-- Button to trigger the modal -->
<button type="button" class="btn btn-primary rounded-pill fw-bold border border-2 px-4 py-2" data-bs-toggle="modal" data-bs-target="#borrowingModal">
  View Tools
</button>

</div>
                        </div>
                
                        <!-- Prototyping Tools Card -->
                        <div class="card shadow-sm border rounded" style="width: 18rem;">
                            <div class="card-header bg-primary text-white text-center">
                                <h5 class="mb-0">Prototyping Tools</h5>
                            </div>
                            <img src="assets/images/breadboard.png" class="card-img-top" alt="Prototyping Tools Image">
                            <div class="card-body">
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            </div>
                            <div class="card-footer bg-white text-center">
                                <!-- Button to trigger the modal -->
                             <button type="button" class="btn btn-primary rounded-pill fw-bold border border-2 px-4 py-2" data-bs-toggle="modal" data-bs-target="#borrowingModal">
                               View Tools
                             </button>
                            </div>
                        </div>
                
                        <!-- Sensors Card -->
                        <div class="card shadow-sm border rounded" style="width: 18rem;">
                            <div class="card-header bg-primary text-white text-center">
                                <h5 class="mb-0">Sensors</h5>
                            </div>
                            <img src="assets/images/ultrasonic.png" class="card-img-top" alt="Sensors Image">
                            <div class="card-body">
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            </div>
                            <div class="card-footer bg-white text-center">
                                <!-- Button to trigger the modal -->
                             <button type="button" class="btn btn-primary rounded-pill fw-bold border border-2 px-4 py-2" data-bs-toggle="modal" data-bs-target="#borrowingModal">
                               View Tools
                             </button>
                            </div>
                        </div>
                    </div>
                </div>
                

 <!-- Borrowing and Item Collection Modal -->
<div class="modal fade" id="borrowingModal" tabindex="-1" aria-labelledby="borrowingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h3 class="modal-title" id="borrowingModalLabel">Borrowing and Item Collection</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="borrowing-form-box p-3 border rounded shadow-sm">
                            <h4 class="text-center">Borrowing Form</h4>
                            <hr>
                            <form>
                                <div class="mb-3">
                                    <label for="userId" class="form-label">User ID</label>
                                    <input type="text" class="form-control" id="userId" placeholder="Enter User ID">
                                </div>
                                <div class="mb-3">
                                    <label for="borrowerName" class="form-label">Borrower Name</label>
                                    <input type="text" class="form-control" id="borrowerName" placeholder="Enter Borrower's Name">
                                </div>
                                <div class="mb-3">
                                    <label for="schoolId" class="form-label">School ID</label>
                                    <input type="text" class="form-control" id="schoolId" placeholder="Enter School ID">
                                </div>
                                <div class="mb-3">
                                    <label for="dateIssued" class="form-label">Date Issued</label>
                                    <input type="date" class="form-control" id="dateIssued">
                                </div>
                                <div class="mb-3">
                                    <label for="returnDate" class="form-label">Return Date</label>
                                    <input type="date" class="form-control" id="returnDate">
                                </div>
                                <div class="mb-3">
                                    <label for="borrowItems" class="form-label">Borrowed Items</label>
                                    <table class="table table-bordered" id="borrowedItemsTable">
                                        <thead>
                                            <tr>
                                                <th>Item Name</th>
                                                <th>Quantity</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                                <button type="submit" class="btn btn-primary rounded-pill w-100">Borrow</button>
                            </form>
                            <div class="text-center mt-2">
                                <small class="text-muted">Please fill out the form to borrow items.</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="item-collection-box p-3 border rounded shadow-sm">
                            <h4 class="text-center">Item Collection</h4>
                            <hr>
                            <div class="d-flex justify-content-center flex-wrap">
                                <div class="card shadow-sm border rounded m-2" style="width: 10rem;">
                                    <img src="assets/images/arduinouno.png" class="card-img-top" alt="Microcontroller">
                                    <div class="card-body">
                                        <p class="card-text text-center">Microcontroller</p>
                                        <button class="btn btn-outline-primary rounded-pill w-100" onclick="highlightCard(this, 'Microcontroller')">Select</button>
                                    </div>
                                </div>
                                <div class="card shadow-sm border rounded m-2" style="width: 10rem;">
                                    <img src="assets/images/breadboard.png" class="card-img-top" alt="Breadboard">
                                    <div class="card-body">
                                        <p class="card-text text-center">Breadboard</p>
                                        <button class="btn btn-outline-primary rounded-pill w-100" onclick="highlightCard(this, 'Breadboard')">Select</button>
                                    </div>
                                </div>
                                <div class="card shadow-sm border rounded m-2" style="width: 10rem;">
                                    <img src="assets/images/ultrasonic.png" class="card-img-top" alt="Sensor">
                                    <div class="card-body">
                                        <p class="card-text text-center">Sensor</p>
                                        <button class="btn btn-outline-primary rounded-pill w-100" onclick="highlightCard(this, 'Sensor')">Select</button>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-2">
                                <small class="text-muted">Select and collect the items listed.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</div>

<style>
   .card {
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
}

.card:hover {
    transform: none;
    box-shadow: none;
}

.highlight {
    border: 3px solid #006eff !important;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

label.form-label {
    font-weight: bold;
}


</style>

<script>
    function highlightCard(button, itemName) {
    var card = button.closest('.card');

    card.classList.toggle('highlight');

    if (card.classList.contains('highlight')) {
        updateSelectedItems(itemName, 1);
    } else {
        updateSelectedItems(itemName, -1); 
    }
}


    var selectedItems = {};

    function highlightCard(button, itemName) {
        var card = button.closest('.card');
        var allCards = document.querySelectorAll('.card');
        allCards.forEach(function(c) {
            c.classList.remove('highlight');
        });
        card.classList.add('highlight');
        updateSelectedItems(itemName, 1);
    }

    function updateSelectedItems(itemName, quantityChange) {

        if (selectedItems[itemName]) {
            selectedItems[itemName] += quantityChange;
            if (selectedItems[itemName] <= 0) {
                delete selectedItems[itemName]; 
            }
        } else {
            selectedItems[itemName] = 1;
        }

        var tableBody = document.getElementById('borrowedItemsTable').getElementsByTagName('tbody')[0];
        tableBody.innerHTML = ''; 
        
        for (var item in selectedItems) {
            var row = tableBody.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);

            cell1.textContent = item;
            cell2.textContent = selectedItems[item];

            cell3.innerHTML = `
                <button class="btn btn-sm btn-success" onclick="updateSelectedItems('${item}', 1)">+</button>
                <button class="btn btn-sm btn-danger" onclick="updateSelectedItems('${item}', -1)">-</button>
            `;
        }
    }
</script>

    


<!-- Modal -->
<div class="modal fade" id="historyModal" tabindex="-1" aria-labelledby="historyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="historyModalLabel">Borrowed and Returned Items</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6 class="text-primary">Borrowed Items</h6>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Item Name</th>
                                    <th>Amount of Items</th>
                                    <th>Date Issued</th>
                                    <th>Borrowed Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Microcontroller</td>
                                    <td>2</td>
                                    <td>2025-01-01</td>
                                    <td>2025-01-02</td>
                                    <td><span class="badge bg-warning text-dark">Pending</span></td>
                                </tr>
                                <tr>
                                    <td>Breadboard</td>
                                    <td>1</td>
                                    <td>2025-01-02</td>
                                    <td>2025-01-03</td>
                                    <td><span class="badge bg-success">Returned</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <hr style="border-top: 5px solid #006eff; margin: 15px 0;">
                <div>
                    <h6 class="text-primary">Returned Items</h6>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Item Name</th>
                                    <th>Amount of Items</th>
                                    <th>Date Issued</th>
                                    <th>Borrowed Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Sensor</td>
                                    <td>1</td>
                                    <td>2025-01-05</td>
                                    <td>2025-01-06</td>
                                    <td><span class="badge bg-success">Returned</span></td>
                                </tr>
                                <tr>
                                    <td>Prototyping Tools</td>
                                    <td>3</td>
                                    <td>2025-01-07</td>
                                    <td>2025-01-08</td>
                                    <td><span class="badge bg-warning text-dark">Pending</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>






        <div class="right-sidebar">
            <div class="user-info">
                <img src="assets/images/profile.jpg" alt="Profile Image">
                <div>
                    <h5>Jeriebel Calunsag</h5>
                    <p>Online</p>
                </div>
            </div>

                <!--     <h5>Attendance</h5>
    <hr style="border-top: 3px solid #ccc; margin: 15px 0;">
                <p>Track your attendance for events here.</p>
            </div>
        </div>
    </div> 
    --> 
    
          
         

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('toggleSidebar').addEventListener('click', function() {
            var sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('minimized');
        });
    </script>
</body>
</html>
